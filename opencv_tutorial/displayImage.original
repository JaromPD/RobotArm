#include <stdio.h>
#include <opencv2/opencv.hpp>

using namespace cv;

int main(int argc, char** argv)
{
  VideoCapture capture(0);

  while(1)
    {
      if (!capture.isOpened())
	{
	  printf("Error opening camera.\n");
	  return -1;
	}
      Mat image;
      capture >> image;

      namedWindow("Display Image", WINDOW_AUTOSIZE);
      imshow("Display Image", image);
      if (waitKey(30) >= 0)
	break;
    }
  destroyWindow("Display Image");
}
